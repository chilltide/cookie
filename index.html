<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie</title>
    <style>
        @font-face {
            font-family: 'HugePromo';
            src: url('fonts/HugePromo.otf') format('opentype');
        }

        body {
            font-family: 'HugePromo', sans-serif;
            text-align: center;
            margin-top: 50px;
        }

        #cookie {
            cursor: pointer;
            width: 200px;
            height: 200px;
            background-image: url('cookie_1.webp');
            background-size: cover;
            display: inline-block;
            margin-bottom: 20px;
            outline: none;
            box-shadow: none;
            touch-action: none;
            -webkit-tap-highlight-color: transparent;
        }

        #cookie:focus, #cookie:active {
            outline: none;
            box-shadow: none;
        }

        #count {
            font-size: 20px;
            margin-top: 20px;
        }

        #achievements {
            font-size: 18px;
            margin-top: 30px;
            color: #FF6347;
        }

        #achievements h2 {
            margin-top: 20px;
            font-size: 24px;
            color: green; /* è¦‹å‡ºã—ã®è‰²ã‚’ç·‘ã«å¤‰æ›´ */
        }

        #achievements ul {
            list-style: none;
            padding: 0;
        }

        #achievements li {
            margin: 8px 0;
        }
    </style>
</head>
<body>
    <h1>Eat the Cookie!</h1>
    <div id="cookie" tabindex="-1"></div>
    <div id="count">Cookies Eaten: 0</div>
    <div id="achievements">
        <h2>Achievements</h2>
        <ul id="achievements-list">
            <!-- Achievements will appear here -->
        </ul>
    </div>

    <audio id="cookieSound1" src="cookie1.mp3" preload="auto"></audio>
    <audio id="cookieSound2" src="cookie2.mp3" preload="auto"></audio>

    <script>
        let count = 0;
        let biteCount = 0;
        let cookieSpeed = 0; // Cookies per second
        const startTime = Date.now();

        const cookieImage = document.getElementById('cookie');
        const countDisplay = document.getElementById('count');
        const achievementsList = document.getElementById('achievements-list');
        const cookieSound1 = document.getElementById('cookieSound1');
        const cookieSound2 = document.getElementById('cookieSound2');

        let lastCookieTime = Date.now(); // æœ€åˆã®ã‚¯ãƒƒã‚­ãƒ¼é£Ÿã¹å§‹ã‚ã®æ™‚é–“ã‚’è¨˜éŒ²
        let currentCookieTime = Date.now(); // ç¾åœ¨ã®ã‚¯ãƒƒã‚­ãƒ¼é£Ÿã¹ãŸæ™‚é–“ã‚’è¨˜éŒ²

        // ç”»åƒã®äº‹å‰èª­ã¿è¾¼ã¿
        const cookieImages = [];
        for (let i = 1; i <= 6; i++) {
            cookieImages[i] = new Image();
            cookieImages[i].src = `cookie_${i}.webp`;
        }

        // ã‚¢ãƒãƒ¼ãƒ–ãƒ¡ãƒ³ãƒˆè¿½åŠ é–¢æ•°
        function addAchievement(text) {
            const li = document.createElement('li');
            li.textContent = text;
            achievementsList.appendChild(li);
        }

        // ã‚¢ãƒãƒ¼ãƒ–ãƒ¡ãƒ³ãƒˆæ›´æ–°é–¢æ•°
        function updateAchievements() {
            // Speed Achievements
            const timeElapsed = (currentCookieTime - lastCookieTime) / 1000; // seconds
            if (timeElapsed <= 0.1) {
                addAchievement("âš¡ Flash Cookie! Blink and you missed it!");
            } else if (timeElapsed <= 0.2) {
                addAchievement("ğŸ”¥ Speed King! Youâ€™re the ruler of speed!");
            } else if (timeElapsed <= 0.5) {
                addAchievement("ğŸ¦¸â€â™‚ï¸ Super Eater! Youâ€™ve got superhuman speed!");
            } else if (timeElapsed <= 1) {
                addAchievement("âš¡ Speed Demon! Youâ€™re eating like a whirlwind!");
            } else if (timeElapsed <= 1.5) {
                addAchievement("â±ï¸ Lightning Fast! You're too quick!");
            } else if (timeElapsed <= 1.8) {
                addAchievement("âœˆï¸ Fast Eater! You're eating so fast!");
            }

            // Quantity Achievements
            if (count >= 10 && count % 10 === 0) {
                addAchievement(`ğŸ˜‹ Ate a whole bag! (${count} cookies)`);
            }
            if (count >= 100 && count % 100 === 0) {
                addAchievement(`ğŸ“¦ Ate a whole box! (${count} cookies)`);
            }
            if (count >= 200 && count % 200 === 0) {
                addAchievement(`ğŸ’µ Youâ€™ve eaten $10 worth! (${count} cookies)`);
            }
            if (count >= 40000 && count % 40000 === 0) {
                addAchievement(`ğŸš— Bought a car with your cookies! (${count} cookies)`);
            }
            if (count >= 600000 && count % 600000 === 0) {
                addAchievement(`ğŸ  Bought a house with your cookies! (${count} cookies)`);
            }

            // Speed Related Achievements
            if (timeElapsed >= 18) {
                addAchievement("ğŸ¢ Taking it slow! You're enjoying each cookie bite by bite!");
            }
        }

        // 1ã‚¯ãƒƒã‚­ãƒ¼ã‚’é£Ÿã¹ã‚‹ã®ã«ã‹ã‹ã£ãŸæ™‚é–“ã‚’è¨ˆæ¸¬ã—ã¦ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¢ãƒãƒ¼ãƒ–ãƒ¡ãƒ³ãƒˆã‚’è¡¨ç¤º
        function checkSpeedAchievements() {
            currentCookieTime = Date.now(); // æ–°ã—ã„ã‚¯ãƒƒã‚­ãƒ¼ã‚’é£Ÿã¹ãŸæ™‚é–“ã‚’è¨˜éŒ²
            updateAchievements(); // ã‚¢ãƒãƒ¼ãƒ–ãƒ¡ãƒ³ãƒˆæ›´æ–°
            lastCookieTime = currentCookieTime; // æœ€å¾Œã®ã‚¯ãƒƒã‚­ãƒ¼é£Ÿã¹ãŸæ™‚é–“ã‚’æ›´æ–°
        }

        // ã‚¯ãƒƒã‚­ãƒ¼ã‚’é£Ÿã¹ã‚‹ãŸã³ã«å‘¼ã³å‡ºã•ã‚Œã‚‹é–¢æ•°
        function eatCookie() {
            count++;
            countDisplay.textContent = `Cookies Eaten: ${count}`;
            checkSpeedAchievements(); // ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¢ãƒãƒ¼ãƒ–ãƒ¡ãƒ³ãƒˆã‚’ãƒã‚§ãƒƒã‚¯
        }

        // ã‚¯ãƒƒã‚­ãƒ¼ç”»åƒã‚¯ãƒªãƒƒã‚¯æ™‚ã®å‡¦ç†
        cookieImage.addEventListener('click', (event) => {
            event.preventDefault();
            cookieImage.blur();

            // ç”»åƒåˆ‡ã‚Šæ›¿ãˆã¨å™›ã‚€å›æ•°ã‚’å‡¦ç†
            if (biteCount === 0) {
                cookieImage.style.backgroundImage = 'url("cookie_2.webp")';
            }

            biteCount++;

            // æœ€åˆã®ã‚¯ãƒªãƒƒã‚¯ã®ã¿cookie1.mp3ã€ä»¥é™ã¯cookie2.mp3ã‚’å†ç”Ÿ
            if (biteCount === 1) {
                cookieSound1.currentTime = 0;
                cookieSound1.play();
            } else {
                cookieSound2.currentTime = 0;
                cookieSound2.play();
            }

            // å™›ã‚€ãŸã³ã«ç”»åƒã‚’æ›´æ–°
            if (biteCount > 1 && biteCount <= 6) {
                cookieImage.style.backgroundImage = `url('cookie_${biteCount + 1}.webp')`;
            }

            // 6å›å™›ã‚“ã ã‚‰1æšé£Ÿã¹ãŸã¨ã‚«ã‚¦ãƒ³ãƒˆ
            if (biteCount === 6) {
                eatCookie();
                biteCount = 0;
                cookieImage.style.backgroundImage = 'url("cookie_1.webp")';
            }
        });
    </script>
</body>
</html>
